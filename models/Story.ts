
export const allowedAgeGroups = [
    { name: 'Infants/Toddlers (0-3 years)', value: "10", minAge:"0", maxAge: "3" },
    { name: 'Preschoolers (3-5 years)', value: "20", minAge: "3", maxAge: "5" },
    { name: 'Young Children (6-9 years)', value: "30", minAge: "6", maxAge: "9" },
    { name: 'Preteens (10-12 years)', value: "40", minAge: "10", maxAge: "12" },
    { name: 'Teenagers and up (13+)', value: "50", minAge: "13", maxAge: "13+" },
]

export const storyLengths = [
    { name: "Short", value: "short" },
    { name: "Medium", value: "medium" },
    { name: "Long", value: "long" }
]

export const languages = [
    { name: 'English', code: 'en', category: "" },
    { name: 'Spanish - español', code: 'es', category: "" },
    { name: 'Chinese (Cantonese)', code: 'zh-ca', category: "" },
    { name: 'Chinese (Mandarin)', code: 'zh-ma', category: "" },
    { name: 'Filipino (Tagalog)', code: 'fil', category: "" },
    { name: 'Vietnamese - Tiếng Việt', code: 'vi', category: "" },
    { name: 'Arabic - العربية', code: 'ar', category: "" },
    { name: 'French - français', code: 'fr', category: "" },
    { name: 'Hebrew - עברית', code: 'he', category: "" },
    { name: 'Korean - 한국어', code: 'ko', category: "" },
    { name: 'Russian - русский', code: 'ru', category: "" },
    { name: 'Portuguese (Brazil)', code: 'pt-BR', category: "" },
    { name: 'German - deutsch', code: 'de', category: "" },
    { name: 'Japanese - 日本語', code: 'ja', category: "" },
    { name: 'Hindi - हिन्दी', code: 'hi', category: ""},
    { name: 'Italian - italiano', code: 'it', category: "" },
    { name: 'Afrikaans', code: 'af', category: "More" },
    { name: 'Albanian - shqip', code: 'sq', category: "More" },
    { name: 'Amharic - አማርኛ', code: 'am', category: "More" },
    { name: 'Aragonese - aragonés', code: 'an', category: "More" },
    { name: 'Armenian - հայերեն', code: 'hy', category: "More" },
    { name: 'Asturian - asturianu', code: 'ast', category: "More" },
    { name: 'Azerbaijani - azərbaycan dili', code: 'az', category: "More" },
    { name: 'Basque - euskara', code: 'eu', category: "More" },
    { name: 'Belarusian - беларуская', code: 'be', category: "More" },
    { name: 'Bengali - বাংলা', code: 'bn', category: "More" },
    { name: 'Bosnian - bosanski', code: 'bs', category: "More" },
    { name: 'Breton - brezhoneg', code: 'br', category: "More" },
    { name: 'Bulgarian - български', code: 'bg', category: "More" },
    { name: 'Catalan - català', code: 'ca', category: "More" },
    { name: 'Central Kurdish - کوردی (دەستنوسی عەرەبی)', code: 'ckb', category: "More" },
    { name: 'Corsican', code: 'co', category: "More" },
    { name: 'Croatian - hrvatski', code: 'hr', category: "More" },
    { name: 'Czech - čeština', code: 'cs', category: "More" },
    { name: 'Danish - dansk', code: 'da', category: "More" },
    { name: 'Dutch - Nederlands', code: 'nl', category: "More" },
    { name: 'Esperanto - esperanto', code: 'eo', category: "More"},
    { name: 'Estonian - eesti', code: 'et', category: "More" },
    { name: 'Ewe', code: 'ewe', category: "More" },
    { name: 'Faroese - føroyskt', code: 'fo', category: "More" },
    { name: 'Finnish - suomi', code: 'fi', category: "More" },
    { name: 'Galician - galego', code: 'gl', category: "More" },
    { name: 'Ga', code: 'ga', category: "More" },
    { name: 'Georgian - ქართული', code: 'ka', category: "More" },
    { name: 'Greek - Ελληνικά', code: 'el', category: "More" },
    { name: 'Guarani', code: 'gn', category: "More" },
    { name: 'Gujarati - ગુજરાતી', code: 'gu', category: "More" },
    { name: 'Hausa', code: 'ha', category: "More" },
    { name: 'Hawaiian - ʻŌlelo Hawaiʻi', code: 'haw', category: "More" },
    { name: 'Hungarian - magyar', code: 'hu', category: "More" },
    { name: 'Icelandic - íslenska', code: 'is', category: "More" },
    { name: 'Indonesian - Indonesia', code: 'id', category: "More" },
    { name: 'Interlingua', code: 'ia', category: "More" },
    { name: 'Irish - Gaeilge', code: 'ir', category: "More" },
    { name: 'Kannada - ಕನ್ನಡ', code: 'kn', category: "More" },
    { name: 'Kazakh - қазақ тілі', code: 'kk', category: "More" },
    { name: 'Khmer - ខ្មែរ', code: 'km', category: "More" },
    { name: 'Kurdish - Kurdî', code: 'ku', category: "More" },
    { name: 'Kyrgyz - кыргызча', code: 'ky', category: "More" },
    { name: 'Lao - ລາວ', code: 'lo', category: "More" },
    { name: 'Latin', code: 'la', category: "More" },
    { name: 'Latvian - latviešu', code: 'lv', category: "More" },
    { name: 'Lingala - lingála', code: 'ln', category: "More" },
    { name: 'Lithuanian - lietuvių', code: 'lt', category: "More" },
    { name: 'Macedonian - македонски', code: 'mk', category: "More" },
    { name: 'Malay - Bahasa Melayu', code: 'ms', category: "More" },
    { name: 'Malayalam - മലയാളം', code: 'ml', category: "More" },
    { name: 'Maltese - Malti', code: 'mt', category: "More" },
    { name: 'Marathi - मराठी', code: 'mr', category: "More" },
    { name: 'Mongolian - монгол', code: 'mn', category: "More" },
    { name: 'Nepali - नेपाली', code: 'ne', category: "More" },
    { name: 'Norwegian - norsk', code: 'no', category: "More" },
    { name: 'Occitan', code: 'oc', category: "More" },
    { name: 'Oriya - ଓଡ଼ିଆ', code: 'or', category: "More" },
    { name: 'Oromo - Oromoo', code: 'om', category: "More" },
    { name: 'Pashto - پښتو', code: 'ps', category: "More" },
    { name: 'Persian - فارسی', code: 'fa', category: "More" },
    { name: 'Polish - polski', code: 'pl', category: "More" },
    { name: 'Portuguese (Portugal) - português (Portugal)', code: 'pt-PT', category: "More" },
    { name: 'Punjabi - ਪੰਜਾਬੀ', code: 'pa', category: "More" },
    { name: 'Quechua', code: 'qu', category: "More" },
    { name: 'Romanian - română', code: 'ro', category: "More" },
    { name: 'Romansh - rumantsch', code: 'rm', category: "More" },
    { name: 'Scottish Gaelic', code: 'gd', category: "More" },
    { name: 'Serbian - српски', code: 'sr', category: "More" },
    { name: 'Serbo - Croatian', code: 'sh', category: "More" },
    { name: 'Shona - chiShona', code: 'sn', category: "More" },
    { name: 'Sindhi', code: 'sd', category: "More" },
    { name: 'Sinhala - සිංහල', code: 'si', category: "More" },
    { name: 'Slovak - slovenčina', code: 'sk', category: "More" },
    { name: 'Slovenian - slovenščina', code: 'sl', category: "More" },
    { name: 'Somali - Soomaali', code: 'so', category: "More" },
    { name: 'Southern Sotho', code: 'st', category: "More" },
    { name: 'Sundanese', code: 'su', category: "More" },
    { name: 'Swahili - Kiswahili', code: 'sw', category: "More" },
    { name: 'Swedish - svenska', code: 'sv', category: "More" },
    { name: 'Tajik - тоҷикӣ', code: 'tg', category: "More" },
    { name: 'Tamil - தமிழ்', code: 'ta', category: "More" },
    { name: 'Tatar', code: 'tt', category: "More" },
    { name: 'Telugu - తెలుగు', code: 'te', category: "More" },
    { name: 'Thai - ไทย', code: 'th', category: "More" },
    { name: 'Tigrinya - ትግርኛ', code: 'ti', category: "More" },
    { name: 'Tongan - lea fakatonga', code: 'to', category: "More" },
    { name: 'Turkish - Türkçe', code: 'tr', category: "More" },
    { name: 'Turkmen', code: 'tk', category: "More" },
    { name: 'Twi', code: 'tw', category: "More" },
    { name: 'Ukrainian - українська', code: 'uk', category: "More" },
    { name: 'Urdu - اردو', code: 'ur', category: "More" },
    { name: 'Uyghur', code: 'ug', category: "More" },
    { name: 'Uzbek - o‘zbek', code: 'uz', category: "More" },
    { name: 'Walloon - wa', code: 'wa', category: "More" },
    { name: 'Welsh - Cymraeg', code: 'cy', category: "More" },
    { name: 'Western Frisian', code: 'fy', category: "More" },
    { name: 'Xhosa', code: 'xh', category: "More" },
    { name: 'Yiddish', code: 'yi', category: "More" },
    { name: 'Yoruba - Èdè Yorùbá', code: 'yo', category: "More" },
    { name: 'Zulu - isiZulu', code: 'zu', category: "More" },
]


interface StoryProps {
    storyId: string;
    title: string;
    description: string;
    isPublic: string;
    language: string;
    recordedBy: string;
    recordingUrl: string;
    ageGroups: Array<number>;
    duration: number
    profileId: string
    profileName: string
    profileAvatar: string
    lastUpdated: string
    illustrationsURL: Array<string>
    publicStoryRequest: any
    narratorName: string
}

export default class Story {
    storyId: string;
    title: string;
    description: string;
    isPublic: string;
    language: string;
    recordedBy: string;
    recordingUrl: string;
    ageGroups: Array<number>;
    duration: number
    profileId: string
    profileName: string
    profileAvatar: string
    lastUpdated: string
    illustrationsURL: Array<string>
    publicStoryRequest: any
    narratorName: string

    constructor({
        storyId,
        isPublic,
        duration,
        recordingUrl,
        recordedBy,
        title,
        ageGroups = [],
        description,
        language,
        profileId,
        profileName,
        profileAvatar,
        lastUpdated,
        illustrationsURL = [],
        publicStoryRequest,
        narratorName
    }: StoryProps) {
        this.storyId = storyId
        this.isPublic = isPublic
        this.duration = duration;
        this.recordingUrl = recordingUrl
        this.recordedBy = recordedBy;
        this.title = title;
        this.description = description;
        this.language = language;
        this.ageGroups = ageGroups
        this.profileId = profileId
        this.profileName = profileName
        this.profileAvatar = profileAvatar
        this.lastUpdated = lastUpdated
        this.illustrationsURL = illustrationsURL
        this.publicStoryRequest = publicStoryRequest
        this.narratorName = narratorName
    }

    get ageGroupsLabel() {
        if (this.ageGroups.length === 0) return ""
        const ageGroups = allowedAgeGroups.filter((ageGroup) => {
            // @ts-ignore
            return this.ageGroups.includes(ageGroup.value)
            // @ts-ignore
        }).sort((a: any, b: any) => {
            if (a.value > b.value) return 1
            if (a.value < b.value) return -1
        })

        if (ageGroups.length === 1) {
            return ageGroups[0].name
        }

        if (ageGroups.length === allowedAgeGroups.length) {
            return "All ages"
        }

        return `${ageGroups[0]?.name} - ${ageGroups[ageGroups.length - 1]?.name}`
    }

    get ageGroupsShortLabel() {
        if (this.ageGroups.length === 0 || !this.ageGroups) return "All ages"
        const ageGroups = allowedAgeGroups.filter((ageGroup) => {
            // @ts-ignore
            return this.ageGroups.includes(ageGroup.value)
            // @ts-ignore
        }).sort((a: any, b: any) => {
            if (a.value > b.value) return 1
            if (a.value < b.value) return -1
        })

        if (ageGroups.length === 1) {
            return ageGroups[0].name
        }

        if (ageGroups.length === allowedAgeGroups.length) {
            return "All ages"
        }

        return `${ageGroups[0]?.minAge} - ${ageGroups[ageGroups.length - 1]?.maxAge} years old`
    }

    get publicStoryRequestRefused() {
        return (
            !this.isPublic
            && this.publicStoryRequest
            && Object.keys(this.publicStoryRequest).length > 0
            && this.publicStoryRequest?.completed
            && !this.publicStoryRequest?.approved
        )
    }

    get publicStoryRequestProcessing() {
        return (
            !this.isPublic
            && this.publicStoryRequest
            && Object.keys(this.publicStoryRequest).length > 0
            && !this.publicStoryRequest?.completed
            && !this.publicStoryRequest?.approved
        )
    }

    get publicStoryRequestApproved() {
        return (
            this.isPublic
            && this.publicStoryRequest
            && Object.keys(this.publicStoryRequest).length > 0
            && this.publicStoryRequest?.completed
            && this.publicStoryRequest?.approved
        )
    }
}
